{% extends 'core/base.html' %}

{% block content %}
<div class="max-w-md mx-auto mt-10">
    <a href="javascript:history.back()" class="text-gray-500 hover:text-slate-900 flex items-center mb-4">
        <i class="fas fa-arrow-left mr-2"></i> Cancel
    </a>

    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
        <div class="bg-slate-900 p-6 text-white text-center">
            <h2 class="text-xl font-bold">Payment Collection</h2>
            <p class="text-slate-400 text-sm">Customer: {{ invoice.customer.name }}</p>
        </div>

        <div class="p-6 bg-blue-50 border-b border-blue-100 text-center">
            <p class="text-xs font-bold text-gray-500 uppercase">Current Balance Due</p>
            <p class="text-3xl font-black text-red-600">₹{{ invoice.balance_amount }}</p>
            <p class="text-xs text-gray-400 mt-1">Total Bill: ₹{{ invoice.total_amount }}</p>
        </div>

        <form method="POST" class="p-8 space-y-6">
            {% csrf_token %}
            
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Amount Received Now (₹)</label>
                <input type="number" step="0.01" name="amount_received" max="{{ invoice.balance_amount }}" 
                       placeholder="Enter amount (Ex: 5000)" required
                       class="w-full p-4 text-xl font-bold text-gray-800 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:outline-none">
            </div>

            <button type="submit" class="w-full py-4 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition shadow-lg flex justify-center items-center">
                <i class="fas fa-hand-holding-usd mr-2"></i> Confirm Payment
            </button>
        </form>
    </div>
</div>
{% endblock %}