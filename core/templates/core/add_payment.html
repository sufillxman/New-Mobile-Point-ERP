{% extends 'core/base.html' %}

{% block content %}
<div class="max-w-md mx-auto px-2 md:mt-10">
    <a href="javascript:history.back()" class="text-slate-500 hover:text-slate-900 flex items-center mb-6 font-bold text-sm transition">
        <i class="fas fa-arrow-left mr-2"></i> Cancel & Back
    </a>

    <div class="bg-white rounded-[2rem] shadow-2xl overflow-hidden border border-slate-100 mb-10">
        <div class="bg-slate-900 p-8 text-white text-center">
            <div class="w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg">
                <i class="fas fa-hand-holding-usd text-2xl text-green-400"></i>
            </div>
            <h2 class="text-2xl font-black uppercase tracking-tighter">Payment Collection</h2>
            <p class="text-slate-400 text-xs font-bold mt-1">Customer: <span class="text-white">{{ invoice.customer.name }}</span></p>
        </div>

        <div class="p-8 bg-blue-50 border-b border-blue-100 text-center relative overflow-hidden">
            <div class="absolute -right-4 -top-4 text-blue-100 text-6xl rotate-12 opacity-50">
                <i class="fas fa-money-bill-wave"></i>
            </div>
            
            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1">Current Balance Due</p>
            <p class="text-4xl font-black text-red-600">₹{{ invoice.balance_amount }}</p>
            
            <div class="flex justify-center gap-4 mt-3">
                <p class="text-[10px] font-bold text-slate-400">Total Bill: ₹{{ invoice.total_amount }}</p>
                <p class="text-[10px] font-bold text-green-500">Paid: ₹{{ invoice.amount_paid }}</p>
            </div>
        </div>

        <form method="POST" class="p-8 space-y-6">
            {% csrf_token %}
            
            <div class="space-y-3">
                <label class="block text-xs font-black text-slate-500 uppercase tracking-widest ml-1">Amount Received Now (₹)</label>
                <div class="relative">
                    <span class="absolute left-5 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300">₹</span>
                    <input type="number" 
                           step="0.01" 
                           name="amount_received" 
                           inputmode="decimal"
                           max="{{ invoice.balance_amount }}" 
                           placeholder="0.00" 
                           required
                           class="w-full pl-12 pr-4 py-5 text-3xl font-black text-slate-800 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:ring-0 focus:border-green-500 focus:bg-white outline-none transition-all placeholder-slate-200">
                </div>
                <p class="text-[10px] text-slate-400 font-bold italic ml-1">* Maximum ₹{{ invoice.balance_amount }} hi enter kar sakte hain.</p>
            </div>

            <button type="submit" class="w-full py-5 bg-green-600 text-white font-black uppercase tracking-widest text-sm rounded-2xl hover:bg-green-700 transition-all shadow-xl shadow-green-900/20 flex justify-center items-center active:scale-95">
                <i class="fas fa-check-double mr-2"></i> Confirm & Save Payment
            </button>
        </form>
    </div>
</div>
{% endblock %}